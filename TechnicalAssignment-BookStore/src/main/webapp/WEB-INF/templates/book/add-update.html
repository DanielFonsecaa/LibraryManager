<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <thymeleaf th:replace="header :: header"/>
</head>
<body>
<div class="container">

    <div th:replace="action :: action"></div>

    <h2 class="container-title">Book Details</h2>

    <div class="form-container">
            <form class="form" th:object="${book}" th:action="@{'/book'}" method="post">

                <!-- since we are using same form for add and update,
                  we need to bind id input field to customer object
                  to avoid duplicating records on update -->
                <input type="hidden" th:field="*{id}"/>

                <div class="group" th:classappend="${#fields.hasErrors('title')} ? has-error">
                    <label class="label">Title:</label>
                    <div class="input-div">
                        <input type="text" class="form-control" th:field="*{title}"/>
                        <span class="help-block" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Title error messages</span>
                    </div>
                </div>

                <div class="group" th:classappend="${#fields.hasErrors('author')} ? has-error">
                    <label class="label">Author:</label>
                    <div class="input-div">
                        <input type="text" class="form-control" th:field="*{author}"/>
                        <span class="help-block" th:if="${#fields.hasErrors('author')}" th:errors="*{author}">Author error messages</span>
                    </div>
                </div>
                <div class="group" th:classappend="${#fields.hasErrors('isbn')} ? has-error">
                    <label class="label">Isbn:</label>
                    <div class="input-div">
                        <input type="text" class="form-control" th:field="*{isbn}"/>
                        <span class="help-block" th:if="${#fields.hasErrors('isbn')}" th:errors="*{isbn}">Isbn error messages</span>
                    </div>
                </div>
                <div class="group" th:classappend="${#fields.hasErrors('publishedYear')} ? has-error">
                    <label class="label">Published Year:</label>
                    <div class="input-div">
                        <input type="text" class="form-control" th:field="*{publishedYear}"/>
                        <span class="help-block" th:if="${#fields.hasErrors('publishedYear')}" th:errors="*{publishedYear}">Published Year error messages</span>
                    </div>
                </div>

                <div class="group" th:classappend="${#fields.hasErrors('genre')} ? has-error">
                    <label class="label" for="genre">Genre:</label>
                    <div class="input-div">
                        <select id="genre" th:field="*{genre}">
                            <option th:each="genre : ${genres}" th:value="${genre}" th:text="${genre}"></option>
                        </select><br/>
                    </div>
                </div>

                <div class="group" th:classappend="${#fields.hasErrors('quantity')} ? has-error">
                    <label class="label">Quantity:</label>
                    <div class="input-div">
                        <input type="text" class="form-control" th:field="*{quantity}"/>
                        <span class="help-block" th:if="${#fields.hasErrors('quantity')}" th:errors="*{quantity}">Quantity error messages</span>
                    </div>
                </div>

                <div class="group" th:classappend="${#fields.hasErrors('price')} ? has-error">
                    <label class="label">Price:</label>
                    <div class="input-div">
                        <input type="text" class="form-control" th:field="*{price}"/>
                        <span class="help-block" th:if="${#fields.hasErrors('price')}" th:errors="*{price}">Price error messages</span>
                    </div>
                </div>

                    <div class="buttons-container">
                        <button type="submit" class="btn btn-primary" name="action" value="save">Submit</button>
                        <button type="cancel" class="btn btn-danger" name="action" value="cancel">Cancel</button>
                    </div>

            </form>
    </div>
</div>
</body>
</html>

